<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="refresh" content="0;url=brayan.html">
    <title>Document</title>
</head>
<body>
    <h1>Parcial 3 de progress_tracking</h1>

    <P>import time</P>
    <P>import sqlite3 as sql</P>

    <P>def createDB():</P>
    <P> conn = sql.connect("autoconocimiento.db")</P>
    <P>print("base de datos autoconocimiento creada")</P>
    <P>conn.commit()</P>
    <P>conn.close()</P>

    <P>def createTable():</P>
    <P>    coon = sql.connect("autoconocimiento.db")</P>
    <P>   cursor = coon.cursor()</P>
    <P>   cursor.execute(""" CREATE TABLE progress_tracking (</P>
    <P>  tracking_id INTEGER PRIMARY KEY AUTOINCREMENT,</P>
    <P>   experience_id INTEGER,</P>
    <P>  experience_type TEXT,  -- 'growth' or 'contribution'</P>
    <P>   milestone TEXT,</P>
    <P>   completion_percentage INTEGER DEFAULT 0,</P>
    <P>  notes TEXT,</P>
    <P>  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,</P>
    <P>   FOREIGN KEY (experience_id) REFERENCES growth_experiences(growth_id)</P>
    <P>   );</P>
    <P>   """)</P>

    <P>  print("tabla creada")</P>


    <P> coon.commit()</P>
    <P>  coon.close()</P>
    <img src="primer.JPG" alt="300">

   <P> def insertRow(id_experiencia, tipo_experiencia, experiencia, porcentaje, notas):</P>
    <P> coon = sql.connect("autoconocimiento.db")</P>
    <P> cursor = coon.cursor()</P>
    <P>   instruccion =  """</P>
    <P>   INSERT INTO progress_tracking </P>
    <P>   (experience_id, experience_type, milestone, completion_percentage, notes) </P>
    <P>   VALUES (?, ?, ?, ?, ?)</P>
    <P>    """
    <P>    cursor.execute(instruccion, (id_experiencia, tipo_experiencia, experiencia, porcentaje, notas))</P>
    <P>  coon.commit()</P>
    <P>  coon.close()</P>

    <P> def readRows():</P>
    <P> coon = sql.connect("autoconocimiento.db")</P>
    <P> cursor = coon.cursor()</P>
    <P> instruccion =  f"SELECT * FROM progress_tracking"</P>
    <P> cursor.execute(instruccion)</P>
    <P> datos = cursor.fetchall()</P>
    <P> coon.commit()</P>
    <P> coon.close()</P>
    <P> print(datos)</P>
        <img src="segunda.JPG" alt="300">
    <p1>    def insertRows(progress_trackingList):</p1>
    <p1>   coon = sql.connect("autoconocimiento.db")</p1>
    <p1>  cursor = coon.cursor()</p1>
    <p1>     instruccion = """</p1>
    <p1>    INSERT INTO progress_tracking (experience_id, experience_type, milestone, completion_percentage, notes)</p1>
    <p1>   VALUES (?, ?, ?, ?, ?)</p1>
    <p1>     """</p1>
    <p1>    for row in progress_trackingList:</p1>
    <p1>    try:</p1>
    <p1>           cursor.execute(instruccion, row)  # Ejecutar el INSERT para cada fila</p1>
    <p1>      except Exception as e:</p1>
    <p1>           print(f"Error al insertar la fila {row}: {e}")</p1>
        
    <p1>     coon.commit()</p1>
    <p1>     coon.close()</p1>
        
    <p1> def Buscar():</p1>
    <p1>   coon = sql.connect("autoconocimiento.db")</p1>
    <p1>   cursor = coon.cursor()</p1>
    <p1>   instruccion =  f"SELECT * FROM progress_tracking WHERE experience_id = 1234"</p1>
    <p1>   cursor.execute(instruccion)</p1>
    <p1>   datos = cursor.fetchall()</p1>
    <p1>   coon.commit()</p1>
    <p1>   coon.close()</p1>
    <p1>   print(datos)</p1>
    
    <p1> if __name__ == "__main__":</p1>
    <p1>    #createDB()</p1>
    <p1>    #createTable()</p1>
    <p1>    #insertRow(1234,"growth", "buena app", 50, "bien")</p1>
    <p1>    #readRows()</p1>
    <p1>    #Buscar()</p1>
    <p1>    progress_tracking = [</p1>
    <p1>        (987,'contribution', 'mala app',30,'mal'),</p1>
    <p1>        (567,'contribution', 'exelente app',90,'bien'),</p1>
    <p1>        (678,'contribution', 'buenisima app',30,'buenisisma')</p1>
    <p1>    ]</p1>
    <p1>    insertRows(progress_tracking)</p1>
  <img src="tercera.JPG" alt="">
    <p> por ultimo podemos visualizar la tabla con los datos agregados <tr>
        ejecutandola desde la terminal, que esta en la esquina inferior izquierda</p>
 <img src="ultima.JPG" alt="">


    
</body>
</html>